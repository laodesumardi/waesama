<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Handle asset files
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /public/build/$1 [L]
    
    # Set proper MIME types for CSS and JS files
    <FilesMatch "\.(css)$">
        Header set Content-Type "text/css"
    </FilesMatch>
    
    <FilesMatch "\.(js)$">
        Header set Content-Type "application/javascript"
    </FilesMatch>
    
    # Enable compression
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/css
        AddOutputFilterByType DEFLATE application/javascript
        AddOutputFilterByType DEFLATE application/json
    </IfModule>
    
    # Set cache headers
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresByType text/css "access plus 1 year"
        ExpiresByType application/javascript "access plus 1 year"
    </IfModule>
</IfModule>